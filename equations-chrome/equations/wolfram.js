// Generated by CoffeeScript 2.5.1
(function() {
  var button, equation, img, imgURL, observer;

  button = document.createElement('button');

  button.type = 'button';

  button.id = 'quickEquations';

  imgURL = chrome.extension.getURL('icon.png');

  img = document.createElement('img');

  img.src = imgURL;

  img.alt = 'Quick Equations';

  button.appendChild(img);

  observer = new MutationObserver(function() {
    var buttons, c, i, len, ref, ref1, ref2;
    if (document.querySelector('#quickEquations')) {
      return;
    }
    buttons = (ref = document.querySelector('#random')) != null ? (ref1 = ref.closest('ul')) != null ? ref1.previousElementSibling : void 0 : void 0;
    if (buttons) {
      ref2 = buttons.querySelector('button').classList;
      for (i = 0, len = ref2.length; i < len; i++) {
        c = ref2[i];
        button.classList.add(c);
      }
      return buttons.prepend(button);
    }
  });

  observer.observe(document.body, {
    childList: true,
    subtree: true
  });

  equation = null;

  button.onclick = function(e) {
    var equationBox, menu, query, view;
    equationBox = window.equationBox;
    menu = button.closest('ul').parentElement;
    view = menu.parentElement;
    if (!equationBox) {
      equationBox = document.createElement('div');
      equationBox.id = 'equationBox';
      equationBox.innerHTML = 'Type an equation above';
      view.insertBefore(equationBox, menu);
      query = view.querySelector('input');
      equation = new Equation(query, equationBox);
    } else {
      equation.disable();
      view.removeChild(equationBox);
    }
    return e.preventDefault();
  };

}).call(this);

//# sourceMappingURL=wolfram.js.map
