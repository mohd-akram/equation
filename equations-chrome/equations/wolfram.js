// Generated by CoffeeScript 2.5.1
(function() {
  var button, div, equation, img, imgURL, observer;

  button = document.createElement('button');

  button.type = 'button';

  button.id = 'quickEquations';

  // wrap in a div because otherwise it gets mixed with another button
  div = document.createElement('div');

  div.appendChild(button);

  imgURL = chrome.extension.getURL('icon.png');

  img = document.createElement('img');

  img.src = imgURL;

  img.alt = 'Quick Equations';

  button.appendChild(img);

  observer = new MutationObserver(function() {
    var buttons, c, i, len, ref, ref1;
    if (document.querySelector('#quickEquations')) {
      return;
    }
    buttons = (ref = document.querySelector('[href="/examples"]')) != null ? ref.closest('nav') : void 0;
    if (buttons) {
      ref1 = buttons.querySelector('button').classList;
      for (i = 0, len = ref1.length; i < len; i++) {
        c = ref1[i];
        button.classList.add(c);
      }
      return buttons.prepend(div);
    }
  });

  observer.observe(document.body, {
    childList: true,
    subtree: true
  });

  equation = null;

  button.onclick = function(e) {
    var equationBox, menu, query, view;
    equationBox = window.equationBox;
    menu = button.closest('nav').parentElement;
    view = menu.parentElement;
    if (!equationBox) {
      equationBox = document.createElement('div');
      equationBox.id = 'equationBox';
      equationBox.innerHTML = 'Type an equation above';
      view.insertBefore(equationBox, menu);
      query = view.querySelector('input');
      equation = new Equation(query, equationBox);
    } else {
      equation.disable();
      view.removeChild(equationBox);
    }
    return e.preventDefault();
  };

}).call(this);

//# sourceMappingURL=wolfram.js.map
