// Generated by CoffeeScript 2.5.1
(function() {
  var handlePermissions;

  handlePermissions = async function(checkbox, permissions) {
    var result;
    result = (await chrome.permissions.contains(permissions));
    if (result) {
      checkbox.checked = true;
    }
    return checkbox.onclick = async function() {
      var granted;
      if (checkbox.checked) {
        granted = (await chrome.permissions.request(permissions));
        if (!granted) {
          return checkbox.checked = false;
        }
      } else {
        return (await chrome.permissions.remove(permissions));
      }
    };
  };

  window.onload = function() {
    var enableGoogleForms, enableWebwork, permissions;
    enableWebwork = document.querySelector('#enableWebwork');
    permissions = {
      permissions: ['scripting', 'tabs'],
      origins: ['http://*/*', 'https://*/*']
    };
    handlePermissions(enableWebwork, permissions);
    enableGoogleForms = document.querySelector('#enableGoogleForms');
    permissions = {
      permissions: ['scripting', 'tabs', 'webNavigation'],
      origins: ['http://docs.google.com/*', 'https://docs.google.com/*']
    };
    return handlePermissions(enableGoogleForms, permissions);
  };

}).call(this);

//# sourceMappingURL=options.js.map
